import streamlit as st

# --- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã ---
st.set_page_config(page_title="–ü—Ä–æ–≥–Ω–æ–∑ –°–ê–î: –û–±–µ–∑–≤–æ–∂–∏–≤–∞–Ω–∏–µ", page_icon="ü©∫")

# --- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ ---
st.title("ü©∫ –ü—Ä–æ–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∞—è –º–æ–¥–µ–ª—å –°–ê–î")
st.write("""
–≠—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä—É–µ–º–æ–µ —Å–∏—Å—Ç–æ–ª–∏—á–µ—Å–∫–æ–µ –∞—Ä—Ç–µ—Ä–∏–∞–ª—å–Ω–æ–µ –¥–∞–≤–ª–µ–Ω–∏–µ (–°–ê–î) 
–ø–µ—Ä–µ–¥ –æ–ø–µ—Ä–∞—Ü–∏–µ–π –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–µ—Å–∞ –ø–∞—Ü–∏–µ–Ω—Ç–∞ –∏ –Ω–∞–ª–∏—á–∏—è –æ–±–µ–∑–≤–æ–∂–∏–≤–∞–Ω–∏—è.

**–§–æ—Ä–º—É–ª–∞ –º–æ–¥–µ–ª–∏:**
$$Y_{–°–ê–î} = 109,725 + 0,219 \\times –í–µ—Å + 8,515 \\times –û–±–µ–∑–≤–æ–∂–∏–≤–∞–Ω–∏–µ$$
""")

st.markdown("---")

# --- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å –¥–ª—è –≤–≤–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö ---
st.sidebar.header("–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–∞—Ü–∏–µ–Ω—Ç–∞")

weight = st.sidebar.number_input(
    "–í–µ—Å –ø–∞—Ü–∏–µ–Ω—Ç–∞ (–∫–≥)", 
    min_value=40.0, 
    max_value=200.0, 
    value=70.0,
    step=0.5,
    help="–í–≤–µ–¥–∏—Ç–µ –≤–µ—Å –ø–∞—Ü–∏–µ–Ω—Ç–∞ –≤ –∫–∏–ª–æ–≥—Ä–∞–º–º–∞—Ö"
)

# –í—ã–±–æ—Ä —Å—Ç–∞—Ç—É—Å–∞ –æ–±–µ–∑–≤–æ–∂–∏–≤–∞–Ω–∏—è (0 –∏–ª–∏ 1)
dehydration_status = st.sidebar.radio(
    "–ù–∞–ª–∏—á–∏–µ –æ–±–µ–∑–≤–æ–∂–∏–≤–∞–Ω–∏—è",
    options=[0, 1],
    format_func=lambda x: "–ù–µ—Ç (0)" if x == 0 else "–ï—Å—Ç—å (1)"
)

# --- –†–∞—Å—á–µ—Ç ---
# –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –∏–∑ –≤–∞—à–µ–π —Ä–µ–≥—Ä–µ—Å—Å–∏–∏
b0 = 109.725
b_weight = 0.219
b_dehydration = 8.515

predicted_sad = b0 + (b_weight * weight) + (b_dehydration * dehydration_status)

# --- –í—ã–≤–æ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ ---
st.header("–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≥–Ω–æ–∑–∞")

col1, col2 = st.columns(2)

with col1:
    st.metric(
        label="–ü—Ä–æ–≥–Ω–æ–∑–∏—Ä—É–µ–º–æ–µ –°–ê–î", 
        value=f"{predicted_sad:.2f} –º–º —Ä—Ç. —Å—Ç."
    )

with col2:
    if dehydration_status == 1:
        st.warning("‚ö†Ô∏è –£ –ø–∞—Ü–∏–µ–Ω—Ç–∞ –µ—Å—Ç—å –æ–±–µ–∑–≤–æ–∂–∏–≤–∞–Ω–∏–µ")
        st.write(f"–í–∫–ª–∞–¥ –æ–±–µ–∑–≤–æ–∂–∏–≤–∞–Ω–∏—è –≤ –¥–∞–≤–ª–µ–Ω–∏–µ: **+{b_dehydration} –º–º —Ä—Ç. —Å—Ç.**")
    else:
        st.success("‚úÖ –û–±–µ–∑–≤–æ–∂–∏–≤–∞–Ω–∏—è –Ω–µ—Ç")
        st.write("–ë–∞–∑–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å –¥–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ –≤–µ—Å–∞.")

# --- –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) ---
st.markdown("---")
st.subheader("–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è")
st.info("""
–î–∞–Ω–Ω–∞—è –º–æ–¥–µ–ª—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –Ω–∞–ª–∏—á–∏–µ –æ–±–µ–∑–≤–æ–∂–∏–≤–∞–Ω–∏—è –∞—Å—Å–æ—Ü–∏–∏—Ä–æ–≤–∞–Ω–æ —Å –ø–æ–≤—ã—à–µ–Ω–∏–µ–º –°–ê–î. 
–≠—Ç–æ –º–æ–∂–µ—Ç —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ–≤–∞—Ç—å –æ –∫–æ–º–ø–µ–Ω—Å–∞—Ç–æ—Ä–Ω–æ–π —Ä–µ–∞–∫—Ü–∏–∏ –æ—Ä–≥–∞–Ω–∏–∑–º–∞ (–≤–∞–∑–æ–∫–æ–Ω—Å—Ç—Ä–∏–∫—Ü–∏–∏). 
–ë—É–¥—å—Ç–µ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã –ø—Ä–∏ –∏–Ω–¥—É–∫—Ü–∏–∏ –∞–Ω–µ—Å—Ç–µ–∑–∏–∏.
""")

# –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ (Disclaimer)
st.caption("–î–∏—Å–∫–ª–µ–π–º–µ—Ä: –î–∞–Ω–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ü–µ–ª–µ–π –∏ –Ω–µ –∑–∞–º–µ–Ω—è–µ—Ç –∫–ª–∏–Ω–∏—á–µ—Å–∫–æ–µ –∏–∑–º–µ—Ä–µ–Ω–∏–µ –ê–î.")
